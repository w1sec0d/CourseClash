(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{1183:(e,r,s)=>{"use strict";s.d(r,{default:()=>i});var a=s(5155);s(2115);var t=s(6874),l=s.n(t),o=s(2596);let i=e=>{let{children:r,variant:s="primary",href:t,onClick:i,className:n="",type:d="button",disabled:m=!1}=e,c=(0,o.A)("items-center justify-center px-8 py-3 text-base font-medium rounded-md inline-flex \n    transition-all duration-300 ease-in-out transform \n    hover:scale-105 hover:shadow-lg active:scale-95 active:opacity-80 \n    focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 \n    disabled:opacity-50 disabled:cursor-not-allowed \n    relative z-10 hover:cursor-pointer",{primary:"text-white bg-emerald-600 border border-transparent \n      hover:bg-emerald-700 hover:shadow-lg active:bg-emerald-500",secondary:"text-emerald-600 bg-white border border-emerald-600 \n      hover:bg-emerald-50 hover:shadow-sm active:bg-emerald-100"}[s],n,m&&"opacity-50 cursor-not-allowed");return t?(0,a.jsx)(l(),{href:t,className:c,children:r}):(0,a.jsx)("button",{type:d,className:c,onClick:i,disabled:m,children:r})}},1469:(e,r,s)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,r){for(var s in r)Object.defineProperty(e,s,{enumerable:!0,get:r[s]})}(r,{default:function(){return n},getImageProps:function(){return i}});let a=s(8229),t=s(8883),l=s(8301),o=a._(s(1193));function i(e){let{props:r}=(0,t.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!0,unoptimized:!1}});for(let[e,s]of Object.entries(r))void 0===s&&delete r[e];return{props:r}}let n=l.Image},2596:(e,r,s)=>{"use strict";s.d(r,{A:()=>a});let a=function(){for(var e,r,s=0,a="",t=arguments.length;s<t;s++)(e=arguments[s])&&(r=function e(r){var s,a,t="";if("string"==typeof r||"number"==typeof r)t+=r;else if("object"==typeof r)if(Array.isArray(r)){var l=r.length;for(s=0;s<l;s++)r[s]&&(a=e(r[s]))&&(t&&(t+=" "),t+=a)}else for(a in r)r[a]&&(t&&(t+=" "),t+=a);return t}(e))&&(a&&(a+=" "),a+=r);return a}},5588:(e,r,s)=>{Promise.resolve().then(s.bind(s,8887))},6766:(e,r,s)=>{"use strict";s.d(r,{default:()=>t.a});var a=s(1469),t=s.n(a)},6973:(e,r,s)=>{"use strict";s.d(r,{X:()=>t,z:()=>l});var a=s(5594);let t=a.z.object({email:a.z.string().min(1,"El email es requerido").email("Por favor, ingresa un email v\xe1lido"),password:a.z.string().min(1,"La contrase\xf1a es requerida").min(8,"La contrase\xf1a debe tener al menos 8 caracteres"),rememberMe:a.z.boolean()}),l=a.z.object({firstName:a.z.string().min(1,"El nombre es requerido").max(50,"El nombre debe tener m\xe1ximo 50 caracteres"),lastName:a.z.string().min(1,"El apellido es requerido").max(50,"El apellido debe tener m\xe1ximo 50 caracteres"),email:a.z.string().min(1,"El email es requerido").email("Por favor, ingresa un email v\xe1lido"),password:a.z.string().min(1,"La contrase\xf1a es requerida").min(8,"La contrase\xf1a debe tener al menos 8 caracteres").regex(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)[A-Za-z\d]/,"La contrase\xf1a debe contener al menos una may\xfascula, una min\xfascula y un n\xfamero"),confirmPassword:a.z.string().min(1,"La confirmaci\xf3n de contrase\xf1a es requerida").min(8,"La confirmaci\xf3n de contrase\xf1a debe tener al menos 8 caracteres"),user_type:a.z.string().min(1,"Debe seleccionar un tipo de usuario").refine(e=>"teacher"===e||"student"===e,"Tipo de usuario no v\xe1lido"),terms:a.z.boolean().refine(e=>!0===e,{message:"Debe aceptar los t\xe9rminos y condiciones para continuar"})}).refine(e=>e.password===e.confirmPassword,{message:"Las contrase\xf1as no coinciden",path:["confirmPassword"]})},8887:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>f});var a=s(5155),t=s(1183),l=s(6766),o=s(6874),i=s.n(o),n=s(2177),d=s(221),m=s(6973),c=s(2115),u=s(6824),x=s(5695),p=s(5388);function f(){let{register:e,handleSubmit:r,formState:{errors:s},setError:o}=(0,n.mN)({resolver:(0,d.u)(m.z),defaultValues:{firstName:"",lastName:"",email:"",password:"",confirmPassword:"",terms:!1,user_type:""}}),[f,g]=(0,c.useState)(!1),{register:h}=(0,u.$)(),b=(0,x.useRouter)(),j=async e=>{g(!0);try{let r="".concat(e.firstName," ").concat(e.lastName).trim(),s={username:e.email.split("@")[0],email:e.email,password:e.password,fullName:r,role:"teacher"===e.user_type?"TEACHER":"STUDENT"};console.log("\uD83D\uDCDD Registration attempt with Apollo:",{username:s.username,email:s.email,fullName:s.fullName,role:s.role,timestamp:new Date().toISOString()});let a=await h(s);console.log("✅ Registration successful with Apollo:",a),b.push("/dashboard")}catch(e){console.error("Registration error:",e),e instanceof p.l?(console.log("\uD83D\uDD0D Registration error details:",{message:e.message,code:e.code,isServerError:e.isServerError}),e.isServerError?(o("root",{message:"\uD83D\uDD27 ".concat(e.message),type:e.code}),console.warn("\uD83D\uDEA8 Server error detected during registration")):(o("root",{message:e.message,type:e.code}),"EMAIL_EXISTS"===e.code&&console.log("\uD83D\uDCE7 Registration validation error detected"))):(console.error("❌ Unexpected registration error type:",e),o("root",{message:"Error inesperado al crear la cuenta. Por favor, intenta de nuevo.",type:"UNKNOWN_ERROR"}))}finally{g(!1)}};return(0,a.jsxs)("section",{className:"my-12 text-black mx-auto container bg-white rounded-2xl overflow-hidden shadow-xl max-w-7xl md:grid-cols-2 grid grid-cols-1",children:[(0,a.jsxs)("div",{className:"bg-emerald-50 justify-center items-center w-full p-10 flex flex-col relative overflow-hidden",children:[(0,a.jsx)("div",{className:"w-40 h-40 bg-emerald-100 rounded-full absolute -top-10 -right-10 opacity-60"}),(0,a.jsx)("div",{className:"w-32 h-32 bg-emerald-200 rounded-full absolute bottom-20 -left-10 opacity-60"}),(0,a.jsxs)("div",{className:"text-center relative z-10",children:[(0,a.jsx)(l.default,{alt:"Ilustraci\xf3n de estudiantes compitiendo en duelos acad\xe9micos con insignias y trofeos",src:"/images/register.webp",className:"mx-auto mb-6 rounded-lg shadow-md",width:400,height:300}),(0,a.jsx)("p",{className:"text-2xl font-bold text-emerald-800 mb-4",children:"Transforma tu experiencia acad\xe9mica"}),(0,a.jsxs)("ul",{className:"text-left mb-6 space-y-3",children:[(0,a.jsxs)("li",{className:"items-start flex",children:[(0,a.jsx)("svg",{className:"h-6 w-6 text-emerald-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"Windframe_3LsC3trV6",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{children:"Gana insignias y logros por tus avances"})]}),(0,a.jsxs)("li",{className:"items-start flex",children:[(0,a.jsx)("svg",{className:"h-6 w-6 text-emerald-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"Windframe_N5EeJ5ivQ",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{children:"Participa en duelos acad\xe9micos y sube de rango"})]}),(0,a.jsxs)("li",{className:"items-start flex",children:[(0,a.jsx)("svg",{className:"h-6 w-6 text-emerald-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"Windframe_7FjJpLY1r",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{children:"Acumula monedas virtuales para ventajas exclusivas"})]}),(0,a.jsxs)("li",{className:"items-start flex",children:[(0,a.jsx)("svg",{className:"h-6 w-6 text-emerald-500 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",id:"Windframe_LBmv9SWij",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,a.jsx)("span",{children:"Personaliza tu perfil y muestra tus logros"})]})]})]})]}),(0,a.jsx)("div",{className:"lg:p-12 w-full p-8",children:(0,a.jsxs)("div",{className:"mx-auto max-w-md",children:[(0,a.jsx)("p",{className:"text-3xl font-extrabold text-emerald-800 mb-2",children:"Crea tu cuenta"}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"\xa1\xdanete a Course Clash y comienza tu aventura acad\xe9mica!"}),s.root&&(0,a.jsx)("div",{className:"p-4 text-white bg-red-500 rounded-lg mb-6",children:s.root.message}),(0,a.jsxs)("form",{className:"space-y-6",onSubmit:r(j),noValidate:!0,children:[(0,a.jsxs)("div",{className:"md:grid-cols-2 grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"first_name",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Nombre"}),(0,a.jsx)("input",{...e("firstName"),type:"text",className:"border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 w-full px-4 py-2 rounded-lg",id:"first_name",autoComplete:"given-name"}),s.firstName&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.firstName.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"last_name",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Apellido"}),(0,a.jsx)("input",{...e("lastName"),type:"text",className:"border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 w-full px-4 py-2 rounded-lg",id:"last_name",autoComplete:"family-name"}),s.lastName&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.lastName.message})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Email"}),(0,a.jsx)("input",{...e("email"),type:"email",className:"border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 w-full px-4 py-2 rounded-lg",id:"email",autoComplete:"email"}),s.email&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.email.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Contrase\xf1a"}),(0,a.jsx)("input",{...e("password"),type:"password",className:"border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 w-full px-4 py-2 rounded-lg",id:"password",autoComplete:"new-password"}),s.password&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.password.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"confirm_password",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Confirmar Contrase\xf1a"}),(0,a.jsx)("input",{...e("confirmPassword"),type:"password",className:"border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 w-full px-4 py-2 rounded-lg",id:"confirm_password",autoComplete:"new-password"}),s.confirmPassword&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.confirmPassword.message})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"user_type",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Tipo de usuario"}),(0,a.jsxs)("select",{...e("user_type"),className:"border border-gray-300 focus:ring-emerald-500 focus:border-emerald-500 w-full px-4 py-2 rounded-lg",id:"user_type",children:[(0,a.jsx)("option",{value:"",children:"Selecciona una opci\xf3n"}),(0,a.jsx)("option",{value:"teacher",children:"Profesor"}),(0,a.jsx)("option",{value:"student",children:"Estudiante"})]}),s.user_type&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.user_type.message})]}),(0,a.jsxs)("div",{className:"items-start flex",children:[(0,a.jsx)("input",{...e("terms"),type:"checkbox",className:"focus:ring-emerald-500 border-gray-300 rounded h-4 w-4 text-emerald-600",id:"terms"}),s.terms&&(0,a.jsx)("p",{className:"text-red-500 text-sm mt-1",children:s.terms.message}),(0,a.jsxs)("label",{htmlFor:"terms",className:"ml-2 text-sm text-gray-600 block",children:[(0,a.jsx)("span",{className:"mr-1",children:"Acepto los"}),(0,a.jsx)("a",{href:"/9twIWsbSYpNA4lj2s5SG#",className:"text-emerald-600 hover:text-emerald-500",children:"T\xe9rminos de Servicio"}),(0,a.jsx)("span",{className:"mx-1",children:"y la"}),(0,a.jsx)("a",{href:"/9twIWsbSYpNA4lj2s5SG#",className:"text-emerald-600 hover:text-emerald-500",children:"Pol\xedtica de Privacidad"})]})]}),(0,a.jsx)("div",{children:(0,a.jsx)(t.default,{type:"submit",variant:"primary",className:"w-full",disabled:f,children:f?"Creando cuenta...":"Crear Cuenta"})})]}),(0,a.jsxs)("p",{className:"mt-6 text-center text-sm text-gray-600",children:["\xbfYa tienes una cuenta?"," ",(0,a.jsx)(i(),{href:"/login",className:"text-emerald-600 hover:text-emerald-500",children:"Inicia sesi\xf3n"})]})]})})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[874,515,63,342,824,441,684,358],()=>r(5588)),_N_E=e.O()}]);