(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{6973:(e,r,a)=>{"use strict";a.d(r,{X:()=>s,z:()=>o});var t=a(5594);let s=t.z.object({email:t.z.string().min(1,"El email es requerido").email("Por favor, ingresa un email v\xe1lido"),password:t.z.string().min(1,"La contrase\xf1a es requerida").min(8,"La contrase\xf1a debe tener al menos 8 caracteres"),rememberMe:t.z.boolean()}),o=t.z.object({firstName:t.z.string().min(1,"El nombre es requerido").max(50,"El nombre debe tener m\xe1ximo 50 caracteres"),lastName:t.z.string().min(1,"El apellido es requerido").max(50,"El apellido debe tener m\xe1ximo 50 caracteres"),email:t.z.string().min(1,"El email es requerido").email("Por favor, ingresa un email v\xe1lido"),password:t.z.string().min(1,"La contrase\xf1a es requerida").min(8,"La contrase\xf1a debe tener al menos 8 caracteres").regex(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)[A-Za-z\d]/,"La contrase\xf1a debe contener al menos una may\xfascula, una min\xfascula y un n\xfamero"),confirmPassword:t.z.string().min(1,"La confirmaci\xf3n de contrase\xf1a es requerida").min(8,"La confirmaci\xf3n de contrase\xf1a debe tener al menos 8 caracteres"),user_type:t.z.string().min(1,"Debe seleccionar un tipo de usuario").refine(e=>"teacher"===e||"student"===e,"Tipo de usuario no v\xe1lido"),terms:t.z.boolean().refine(e=>!0===e,{message:"Debe aceptar los t\xe9rminos y condiciones para continuar"})}).refine(e=>e.password===e.confirmPassword,{message:"Las contrase\xf1as no coinciden",path:["confirmPassword"]})},7182:(e,r,a)=>{Promise.resolve().then(a.bind(a,8007))},8007:(e,r,a)=>{"use strict";a.r(r),a.d(r,{default:()=>h});var t=a(5155),s=a(6874),o=a.n(s),n=a(2115),i=a(6824),l=a(5695),c=a(2177),d=a(221),m=a(6973),u=a(4752),x=a.n(u),f=a(5388);function h(){let{register:e,handleSubmit:r,formState:{errors:a},setError:s}=(0,c.mN)({resolver:(0,d.u)(m.X),defaultValues:{email:"",password:"",rememberMe:!1}}),[u,h]=(0,n.useState)(!1),{login:p,resetPassword:g,updatePassword:b}=(0,i.$)(),v=(0,l.useRouter)(),w=async()=>{let{value:e,isConfirmed:r}=await x().fire({title:"\xbfOlvidaste tu contrase\xf1a?",input:"email",inputLabel:"Ingresa tu correo electr\xf3nico para recuperar tu contrase\xf1a",inputPlaceholder:"tu@email.com",showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",confirmButtonColor:"#10b981",cancelButtonColor:"#6b7280",inputValidator:e=>e?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)?null:"Por favor ingresa un correo electr\xf3nico v\xe1lido":"Necesitas ingresar tu correo electr\xf3nico"});if(r&&e){console.log("\uD83D\uDCE7 Password reset requested for:",e);try{let r=await g(e),{value:a}=await x().fire({title:"C\xf3digo de verificaci\xf3n",input:"text",inputLabel:"Ingresa el c\xf3digo que recibiste en tu correo",inputPlaceholder:"C\xf3digo de 6 caracteres",showCancelButton:!0,confirmButtonText:"Verificar",cancelButtonText:"Cancelar",confirmButtonColor:"#10b981",cancelButtonColor:"#6b7280",inputValidator:e=>e?6!==e.length?"El c\xf3digo debe tener 6 caracteres":null:"Necesitas ingresar el c\xf3digo de verificaci\xf3n"});if(a&&6===a.length&&a===r.code){let{value:t}=await x().fire({title:"Nueva contrase\xf1a",input:"password",inputLabel:"Ingresa tu nueva contrase\xf1a",inputPlaceholder:"••••••••",showCancelButton:!0,confirmButtonText:"Cambiar contrase\xf1a",cancelButtonText:"Cancelar",confirmButtonColor:"#10b981",cancelButtonColor:"#6b7280",inputValidator:e=>e?e.length<8?"La contrase\xf1a debe tener al menos 8 caracteres":null:"Necesitas ingresar una contrase\xf1a"});if(t)try{await b(t,a,e,r.token),x().fire({icon:"success",title:"\xa1Contrase\xf1a actualizada!",text:"Tu contrase\xf1a ha sido actualizada exitosamente.",confirmButtonColor:"#10b981"})}catch(e){e instanceof f.l&&x().fire({icon:"error",title:"Error",text:e.message,confirmButtonColor:"#10b981"})}}}catch(e){if(e instanceof f.l){let r="Error",a=e.message;switch(e.code){case"USER_NOT_FOUND":r="Usuario no encontrado",a="El correo electr\xf3nico no est\xe1 registrado en nuestra plataforma. Por favor, verifica tu correo electr\xf3nico o reg\xedstrate.";break;case"SERVER_ERROR":r="Error del servidor",a="Ocurri\xf3 un error al procesar tu solicitud. Por favor intenta de nuevo m\xe1s tarde.";break;case"INVALID_CODE":r="C\xf3digo inv\xe1lido",a="El c\xf3digo de verificaci\xf3n es inv\xe1lido o ha expirado. Por favor solicita un nuevo c\xf3digo."}x().fire({icon:"error",title:r,text:a,confirmButtonColor:"#10b981"})}else x().fire({icon:"error",title:"Error",text:"Ocurri\xf3 un error inesperado. Por favor intenta de nuevo m\xe1s tarde.",confirmButtonColor:"#10b981"})}}},N=async e=>{h(!0);try{await p(e.email,e.password),v.push("/dashboard")}catch(e){e instanceof f.l?(console.log("\uD83D\uDD0D Error details:",{message:e.message,code:e.code,isServerError:e.isServerError}),e.isServerError?(s("root",{message:"\uD83D\uDD27 ".concat(e.message),type:e.code}),console.warn("\uD83D\uDEA8 Server error detected - might need retry logic")):(s("root",{message:e.message,type:e.code}),"INVALID_CREDENTIALS"===e.code&&console.log("\uD83D\uDD10 Invalid credentials detected"))):(console.error("❌ Unexpected error type:",e),s("root",{message:"Error inesperado al iniciar sesi\xf3n. Por favor, intenta de nuevo.",type:"UNKNOWN_ERROR"}))}finally{h(!1)}};return(0,t.jsxs)("div",{className:"mx-auto my-12 container bg-white rounded-xl shadow-2xl md:flex-row max-w-7xl overflow-hidden flex flex-col",children:[(0,t.jsx)("div",{className:"w-full md:w-1/2 bg-emerald-600 items-center justify-center flex p-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"justify-center mb-6 flex"}),(0,t.jsx)("p",{className:"text-white text-3xl font-bold mb-4",children:"Course Clash"}),(0,t.jsx)("p",{className:"text-emerald-100 mb-6",children:"\xa1Aprende, compite y conquista el conocimiento!"}),(0,t.jsxs)("div",{className:"md:flex hidden flex-col space-y-4",children:[(0,t.jsxs)("div",{className:"items-center bg-emerald-700 rounded-lg flex p-3",children:[(0,t.jsx)("div",{className:"bg-emerald-500 rounded-full mr-3 p-2",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",id:"Windframe_UrXOQxH9O",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-white text-sm",children:"Duelos acad\xe9micos emocionantes"})]}),(0,t.jsxs)("div",{className:"items-center bg-emerald-700 rounded-lg flex p-3",children:[(0,t.jsx)("div",{className:"bg-emerald-500 rounded-full mr-3 p-2",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",id:"Windframe_h43ZSvfQZ",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-white text-sm",children:"Insignias y logros exclusivos"})]}),(0,t.jsxs)("div",{className:"items-center bg-emerald-700 rounded-lg flex p-3",children:[(0,t.jsx)("div",{className:"bg-emerald-500 rounded-full mr-3 p-2",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",id:"Windframe_zcDmNuzsr",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("p",{className:"text-white text-sm",children:"Tienda de bonificaciones con ventajas"})]})]})]})}),(0,t.jsxs)("div",{className:"w-full md:w-1/2 p-8",children:[(0,t.jsxs)("div",{className:"text-center mb-10",children:[(0,t.jsx)("p",{className:"text-3xl font-bold text-emerald-700 mb-2",children:"\xa1Bienvenido de nuevo!"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Inicia sesi\xf3n para continuar tu aventura acad\xe9mica"})]}),a.root&&(0,t.jsx)("div",{className:"p-4 text-white bg-red-500 rounded-lg mb-6",children:a.root.message}),(0,t.jsxs)("form",{className:"space-y-6",onSubmit:r(N),noValidate:!0,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Correo electr\xf3nico"}),(0,t.jsx)("input",{...e("email"),type:"email",placeholder:"tu@email.com",className:"border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition w-full px-4 py-3 rounded-lg",id:"email",autoComplete:"email"}),a.email&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:a.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700 mb-1 block",children:"Contrase\xf1a"}),(0,t.jsx)("input",{...e("password"),type:"password",placeholder:"••••••••",className:"border border-gray-300 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 transition w-full px-4 py-3 rounded-lg",id:"password",autoComplete:"current-password"}),a.password&&(0,t.jsx)("p",{className:"text-red-500 text-sm mt-1",children:a.password.message})]}),(0,t.jsxs)("div",{className:"items-center justify-between flex",children:[(0,t.jsxs)("div",{className:"items-center flex",children:[(0,t.jsx)("input",{...e("rememberMe"),type:"checkbox",className:"focus:ring-emerald-500 border-gray-300 rounded h-4 w-4 text-emerald-600",id:"remember-me"}),(0,t.jsx)("label",{htmlFor:"remember-me",className:"ml-2 text-sm text-gray-700 block",children:"Recordarme"})]}),(0,t.jsx)("div",{className:"text-sm",children:(0,t.jsx)("button",{type:"button",onClick:w,className:"font-medium text-emerald-600 hover:text-emerald-500 cursor-pointer border-0 bg-transparent",children:"\xbfOlvidaste tu contrase\xf1a?"})})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",className:"flex border border-transparent hover:bg-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-emerald-500 transition transform hover:scale-105 w-full justify-center py-3 px-4 rounded-lg shadow-sm text-sm font-medium text-white bg-emerald-600",disabled:u,children:u?"Iniciando sesi\xf3n...":"Iniciar sesi\xf3n"})})]}),(0,t.jsxs)("p",{className:"mt-8 text-center text-sm text-gray-600",children:["\xbfNo tienes una cuenta?"," ",(0,t.jsx)(o(),{href:"/registro",className:"font-medium text-emerald-600 hover:text-emerald-500",children:"Reg\xedstrate"})]})]})]})}}},e=>{var r=r=>e(e.s=r);e.O(0,[320,874,515,342,824,441,684,358],()=>r(7182)),_N_E=e.O()}]);